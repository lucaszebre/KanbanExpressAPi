{"version":3,"file":"server.ts","sources":["C:\\Users\\lucas\\Projets\\ExpressKanbanApi\\KanbanExpressAPi\\src\\server.ts"],"names":[],"mappings":";;;;;AAAA,sDAA6B;AAC7B,oDAA2B;AAC3B,gDAAuB;AACvB,yCAAwC;AACxC,0CAAuD;AACvD,sDAA6B;AAE7B,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAA;AAErB,aAAa;AACb,GAAG,CAAC,GAAG,CAAC,IAAA,cAAI,GAAE,CAAC,CAAA;AACf,GAAG,CAAC,GAAG,CAAC,IAAA,gBAAM,EAAC,KAAK,CAAC,CAAC,CAAA;AACtB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAA;AACvB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,UAAU,CAAC,EAAC,QAAQ,EAAE,IAAI,EAAC,CAAC,CAAC,CAAA;AAE7C,gBAAgB;AAChB,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,oBAAa,CAAC,CAAA;AACpC,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,aAAM,CAAC,CAAA;AAK1B,mBAAmB;AACnB,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,cAAO,EAAE,gBAAM,CAAC,CAAA;AAEhC,4BAA4B;AAC5B,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAC9B,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;IACxB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,0BAA0B,GAAG,CAAC,OAAO,EAAE,EAAC,CAAC,CAAA;AAC1E,CAAC,CAAC,CAAA;AAEF,cAAc;AACd,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IACnB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,WAAW,EAAC,CAAC,CAAA;AAC9C,CAAC,CAAC,CAAA;AAEF,kBAAe,GAAG,CAAA","sourcesContent":["import express from 'express'\r\nimport morgan from 'morgan'\r\nimport cors from 'cors'\r\nimport { protect } from './modules/auth'\r\nimport { createNewUser, signin } from './handlers/user'\r\nimport router from './router'\r\n\r\nconst app = express()\r\n\r\n// Middleware\r\napp.use(cors())\r\napp.use(morgan('dev'))\r\napp.use(express.json())\r\napp.use(express.urlencoded({extended: true}))\r\n\r\n// Public routes\r\napp.post('/register', createNewUser)\r\napp.post('/login', signin)\r\n\r\n\r\n\r\n\r\n// Protected routes\r\napp.use('/api', protect, router)\r\n\r\n// Error handling middleware\r\napp.use((err, req, res, next) => {\r\n  console.error(err.stack)\r\n  res.status(500).json({message: `Internal server error: ${err.message}`})\r\n})\r\n\r\n// 404 handler\r\napp.use((req, res) => {\r\n  res.status(404).json({message: 'Not Found'})\r\n})\r\n\r\nexport default app"]}